package com.example.demo;

import java.util.List;

import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.web.bind.annotation.DeleteMapping;
import org.springframework.web.bind.annotation.GetMapping;
import org.springframework.web.bind.annotation.PathVariable;
import org.springframework.web.bind.annotation.PostMapping;
import org.springframework.web.bind.annotation.PutMapping;
import org.springframework.web.bind.annotation.RequestMapping;
import org.springframework.web.bind.annotation.RestController;

@RestController
@RequestMapping("/members")
public class Controller {

	@Autowired
	MemberService service;
	
	// findAll
	@GetMapping
	public List<MemberEntity> members()  {
		
		return service.findAll();
	}

	// findById
	@GetMapping(value = "/{idx}")
	// @PathVariable : 전달값을 받아오는 명령어
	public MemberEntity member(@PathVariable long idx) {
		return service.findById(idx);
	}

	// insert
	@PostMapping
	public String postMember() {

		return "insert";
	}

	// update
	@PutMapping(value="/{idx}")
	public String putMember() {

		return "update";
	}

	// delete
	@DeleteMapping(value = "/{idx}")
	public String deleteMember() {

		return "delete";
	}

}
